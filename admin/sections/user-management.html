<!-- User Management Section -->
<div class="section-header">
    <h3>User Management</h3>
</div>

<!-- User Stats -->
<div class="stats-grid">
    <div class="stat-card glass">
        <div class="stat-icon"><i class="fas fa-users"></i></div>
        <div class="stat-content">
            <h4>Total Users</h4>
            <p class="stat-value">70</p>
        </div>
    </div>
    <div class="stat-card glass">
        <div class="stat-icon"><i class="fas fa-user-check"></i></div>
        <div class="stat-content">
            <h4>Active Users</h4>
            <p class="stat-value">62</p>
        </div>
    </div>
    <div class="stat-card glass">
        <div class="stat-icon"><i class="fas fa-user-plus"></i></div>
        <div class="stat-content">
            <h4>New This Month</h4>
            <p class="stat-value">12</p>
        </div>
    </div>
    <div class="stat-card glass">
        <div class="stat-icon"><i class="fas fa-user-shield"></i></div>
        <div class="stat-content">
            <h4>Admin Users</h4>
            <p class="stat-value">3</p>
        </div>
    </div>
</div>

<!-- Users Table -->
<div class="users-container glass-card">
    <div class="table-actions">
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" class="search-input" placeholder="Search users...">
        </div>
        <button class="btn btn-primary">
            <i class="fas fa-user-plus"></i> Add New User
        </button>
    </div>

    <div class="table-wrapper">
        <table class="data-table users-table">
            <thead>
                <tr>
                    <th>User ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Role</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="usersTableBody">
                <!-- Users will be inserted here dynamically -->
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    <div class="pagination" id="usersPagination">
        <!-- Pagination will be generated dynamically -->
    </div>
</div>

<script>
// User data - 70 users who have made bookings
const userData = [
    { id: 'U001', name: 'Ahmad Hassan', email: 'ahmad@example.com', phone: '+1 234-567-8901', role: 'Customer', status: 'Active' },
    { id: 'U002', name: 'Fatima Al-Rashid', email: 'fatima@example.com', phone: '+1 234-567-8902', role: 'Customer', status: 'Active' },
    { id: 'U003', name: 'Mohammed Ibrahim', email: 'mohammed@example.com', phone: '+1 234-567-8903', role: 'Admin', status: 'Active' },
    { id: 'U004', name: 'Aisha Malik', email: 'aisha@example.com', phone: '+1 234-567-8904', role: 'Customer', status: 'Active' },
    { id: 'U005', name: 'Omar Khaled', email: 'omar@example.com', phone: '+1 234-567-8905', role: 'Customer', status: 'Inactive' },
    { id: 'U006', name: 'Zainab Ahmed', email: 'zainab@example.com', phone: '+1 234-567-8906', role: 'Staff', status: 'Active' },
    { id: 'U007', name: 'Ali Hassan', email: 'ali@example.com', phone: '+1 234-567-8907', role: 'Customer', status: 'Active' },
    { id: 'U008', name: 'Sara Abdullah', email: 'sara@example.com', phone: '+1 234-567-8908', role: 'Customer', status: 'Active' },
    { id: 'U009', name: 'Khalid Mahmoud', email: 'khalid@example.com', phone: '+1 234-567-8909', role: 'Customer', status: 'Active' },
    { id: 'U010', name: 'Noor Fatima', email: 'noor@example.com', phone: '+1 234-567-8910', role: 'Customer', status: 'Active' },
    { id: 'U011', name: 'Yusuf Ali', email: 'yusuf@example.com', phone: '+1 234-567-8911', role: 'Customer', status: 'Active' },
    { id: 'U012', name: 'Mariam Hassan', email: 'mariam@example.com', phone: '+1 234-567-8912', role: 'Customer', status: 'Inactive' },
    { id: 'U013', name: 'Ibrahim Nasir', email: 'ibrahim@example.com', phone: '+1 234-567-8913', role: 'Admin', status: 'Active' },
    { id: 'U014', name: 'Hafsa Rahman', email: 'hafsa@example.com', phone: '+1 234-567-8914', role: 'Customer', status: 'Active' },
    { id: 'U015', name: 'Tariq Hussain', email: 'tariq@example.com', phone: '+1 234-567-8915', role: 'Customer', status: 'Active' },
    { id: 'U016', name: 'Ruqayyah Begum', email: 'ruqayyah@example.com', phone: '+1 234-567-8916', role: 'Staff', status: 'Active' },
    { id: 'U017', name: 'Hamza Sheikh', email: 'hamza@example.com', phone: '+1 234-567-8917', role: 'Customer', status: 'Active' },
    { id: 'U018', name: 'Safiya Khan', email: 'safiya@example.com', phone: '+1 234-567-8918', role: 'Customer', status: 'Active' },
    { id: 'U019', name: 'Bilal Ahmed', email: 'bilal@example.com', phone: '+1 234-567-8919', role: 'Customer', status: 'Active' },
    { id: 'U020', name: 'Khadijah Ali', email: 'khadijah@example.com', phone: '+1 234-567-8920', role: 'Customer', status: 'Inactive' },
    { id: 'U021', name: 'Zaid Mustafa', email: 'zaid@example.com', phone: '+1 234-567-8921', role: 'Customer', status: 'Active' },
    { id: 'U022', name: 'Amina Siddiqui', email: 'amina@example.com', phone: '+1 234-567-8922', role: 'Customer', status: 'Active' },
    { id: 'U023', name: 'Usman Qureshi', email: 'usman@example.com', phone: '+1 234-567-8923', role: 'Staff', status: 'Active' },
    { id: 'U024', name: 'Sumayya Patel', email: 'sumayya@example.com', phone: '+1 234-567-8924', role: 'Customer', status: 'Active' },
    { id: 'U025', name: 'Imran Abbas', email: 'imran@example.com', phone: '+1 234-567-8925', role: 'Customer', status: 'Active' },
    { id: 'U026', name: 'Huda Malik', email: 'huda@example.com', phone: '+1 234-567-8926', role: 'Customer', status: 'Active' },
    { id: 'U027', name: 'Salman Raza', email: 'salman@example.com', phone: '+1 234-567-8927', role: 'Customer', status: 'Inactive' },
    { id: 'U028', name: 'Asma Begum', email: 'asma@example.com', phone: '+1 234-567-8928', role: 'Admin', status: 'Active' },
    { id: 'U029', name: 'Farhan Shaikh', email: 'farhan@example.com', phone: '+1 234-567-8929', role: 'Customer', status: 'Active' },
    { id: 'U030', name: 'Zahra Noor', email: 'zahra@example.com', phone: '+1 234-567-8930', role: 'Customer', status: 'Active' },
    { id: 'U031', name: 'Adnan Iqbal', email: 'adnan@example.com', phone: '+1 234-567-8931', role: 'Customer', status: 'Active' },
    { id: 'U032', name: 'Layla Hassan', email: 'layla@example.com', phone: '+1 234-567-8932', role: 'Customer', status: 'Active' },
    { id: 'U033', name: 'Rizwan Ahmad', email: 'rizwan@example.com', phone: '+1 234-567-8933', role: 'Staff', status: 'Active' },
    { id: 'U034', name: 'Maryam Fatima', email: 'maryam@example.com', phone: '+1 234-567-8934', role: 'Customer', status: 'Inactive' },
    { id: 'U035', name: 'Faisal Khan', email: 'faisal@example.com', phone: '+1 234-567-8935', role: 'Customer', status: 'Active' },
    { id: 'U036', name: 'Sana Sheikh', email: 'sana@example.com', phone: '+1 234-567-8936', role: 'Customer', status: 'Active' },
    { id: 'U037', name: 'Arif Hussain', email: 'arif@example.com', phone: '+1 234-567-8937', role: 'Customer', status: 'Active' },
    { id: 'U038', name: 'Bushra Ali', email: 'bushra@example.com', phone: '+1 234-567-8938', role: 'Customer', status: 'Active' },
    { id: 'U039', name: 'Junaid Rahman', email: 'junaid@example.com', phone: '+1 234-567-8939', role: 'Customer', status: 'Active' },
    { id: 'U040', name: 'Aaliya Mirza', email: 'aaliya@example.com', phone: '+1 234-567-8940', role: 'Customer', status: 'Active' },
    { id: 'U041', name: 'Nasir Ahmed', email: 'nasir@example.com', phone: '+1 234-567-8941', role: 'Customer', status: 'Inactive' },
    { id: 'U042', name: 'Rabia Qureshi', email: 'rabia@example.com', phone: '+1 234-567-8942', role: 'Customer', status: 'Active' },
    { id: 'U043', name: 'Waheed Abbas', email: 'waheed@example.com', phone: '+1 234-567-8943', role: 'Staff', status: 'Active' },
    { id: 'U044', name: 'Naima Patel', email: 'naima@example.com', phone: '+1 234-567-8944', role: 'Customer', status: 'Active' },
    { id: 'U045', name: 'Shoaib Malik', email: 'shoaib@example.com', phone: '+1 234-567-8945', role: 'Customer', status: 'Active' },
    { id: 'U046', name: 'Hina Begum', email: 'hina@example.com', phone: '+1 234-567-8946', role: 'Customer', status: 'Active' },
    { id: 'U047', name: 'Danish Khan', email: 'danish@example.com', phone: '+1 234-567-8947', role: 'Customer', status: 'Active' },
    { id: 'U048', name: 'Faiza Shaikh', email: 'faiza@example.com', phone: '+1 234-567-8948', role: 'Customer', status: 'Active' },
    { id: 'U049', name: 'Aamir Siddiqui', email: 'aamir@example.com', phone: '+1 234-567-8949', role: 'Customer', status: 'Inactive' },
    { id: 'U050', name: 'Shabana Noor', email: 'shabana@example.com', phone: '+1 234-567-8950', role: 'Customer', status: 'Active' },
    { id: 'U051', name: 'Rehan Aziz', email: 'rehan@example.com', phone: '+1 234-567-8951', role: 'Customer', status: 'Active' },
    { id: 'U052', name: 'Safia Yusuf', email: 'safia@example.com', phone: '+1 234-567-8952', role: 'Customer', status: 'Active' },
    { id: 'U053', name: 'Kamran Ali', email: 'kamran@example.com', phone: '+1 234-567-8953', role: 'Staff', status: 'Active' },
    { id: 'U054', name: 'Rubina Hassan', email: 'rubina@example.com', phone: '+1 234-567-8954', role: 'Customer', status: 'Active' },
    { id: 'U055', name: 'Sajid Raza', email: 'sajid@example.com', phone: '+1 234-567-8955', role: 'Customer', status: 'Active' },
    { id: 'U056', name: 'Mehreen Fatima', email: 'mehreen@example.com', phone: '+1 234-567-8956', role: 'Customer', status: 'Inactive' },
    { id: 'U057', name: 'Asif Iqbal', email: 'asif@example.com', phone: '+1 234-567-8957', role: 'Customer', status: 'Active' },
    { id: 'U058', name: 'Sabah Khan', email: 'sabah@example.com', phone: '+1 234-567-8958', role: 'Customer', status: 'Active' },
    { id: 'U059', name: 'Nadeem Ahmad', email: 'nadeem@example.com', phone: '+1 234-567-8959', role: 'Customer', status: 'Active' },
    { id: 'U060', name: 'Tahira Sheikh', email: 'tahira@example.com', phone: '+1 234-567-8960', role: 'Customer', status: 'Active' },
    { id: 'U061', name: 'Irfan Malik', email: 'irfan@example.com', phone: '+1 234-567-8961', role: 'Customer', status: 'Active' },
    { id: 'U062', name: 'Shazia Begum', email: 'shazia@example.com', phone: '+1 234-567-8962', role: 'Customer', status: 'Active' },
    { id: 'U063', name: 'Naveed Qureshi', email: 'naveed@example.com', phone: '+1 234-567-8963', role: 'Customer', status: 'Active' },
    { id: 'U064', name: 'Uzma Patel', email: 'uzma@example.com', phone: '+1 234-567-8964', role: 'Customer', status: 'Inactive' },
    { id: 'U065', name: 'Kashif Abbas', email: 'kashif@example.com', phone: '+1 234-567-8965', role: 'Customer', status: 'Active' },
    { id: 'U066', name: 'Salma Noor', email: 'salma@example.com', phone: '+1 234-567-8966', role: 'Customer', status: 'Active' },
    { id: 'U067', name: 'Javed Hassan', email: 'javed@example.com', phone: '+1 234-567-8967', role: 'Customer', status: 'Active' },
    { id: 'U068', name: 'Razia Mirza', email: 'razia@example.com', phone: '+1 234-567-8968', role: 'Customer', status: 'Active' },
    { id: 'U069', name: 'Tanveer Ali', email: 'tanveer@example.com', phone: '+1 234-567-8969', role: 'Customer', status: 'Active' },
    { id: 'U070', name: 'Fouzia Rahman', email: 'fouzia@example.com', phone: '+1 234-567-8970', role: 'Customer', status: 'Active' }
];

const usersPerPage = 7;
let currentUserPage = 1;

function displayUsers(page) {
    const tbody = document.getElementById('usersTableBody');
    const start = (page - 1) * usersPerPage;
    const end = start + usersPerPage;
    const paginatedUsers = userData.slice(start, end);

    tbody.innerHTML = '';

    paginatedUsers.forEach(user => {
        const roleClass = user.role.toLowerCase().replace(' ', '-');
        const statusClass = user.status.toLowerCase();

        const row = `
            <tr>
                <td>#${user.id}</td>
                <td>${user.name}</td>
                <td>${user.email}</td>
                <td>${user.phone}</td>
                <td><span class="role-badge ${roleClass}">${user.role}</span></td>
                <td><span class="status-badge ${statusClass}">${user.status}</span></td>
                <td class="action-buttons">
                    <button class="btn-icon view" title="View" onclick="viewUser('${user.id}')"><i class="fas fa-eye"></i></button>
                    <button class="btn-icon edit" title="Edit" onclick="editUser('${user.id}')"><i class="fas fa-edit"></i></button>
                    <button class="btn-icon delete" title="Delete" onclick="deleteUser('${user.id}')"><i class="fas fa-trash"></i></button>
                </td>
            </tr>
        `;
        tbody.innerHTML += row;
    });

    updateUserPagination();
}

function updateUserPagination() {
    const totalPages = Math.ceil(userData.length / usersPerPage);
    const pagination = document.getElementById('usersPagination');

    let paginationHTML = '';

    // Previous button
    paginationHTML += `
        <button class="page-btn" onclick="changeUserPage(${currentUserPage - 1})" ${currentUserPage === 1 ? 'disabled' : ''}>
            <i class="fas fa-chevron-left"></i>
        </button>
    `;

    // Page numbers
    for (let i = 1; i <= totalPages; i++) {
        if (i === 1 || i === totalPages || (i >= currentUserPage - 1 && i <= currentUserPage + 1)) {
            paginationHTML += `
                <button class="page-btn ${i === currentUserPage ? 'active' : ''}" onclick="changeUserPage(${i})">
                    ${i}
                </button>
            `;
        } else if (i === currentUserPage - 2 || i === currentUserPage + 2) {
            paginationHTML += `<span class="page-dots">...</span>`;
        }
    }

    // Next button
    paginationHTML += `
        <button class="page-btn" onclick="changeUserPage(${currentUserPage + 1})" ${currentUserPage === totalPages ? 'disabled' : ''}>
            <i class="fas fa-chevron-right"></i>
        </button>
    `;

    pagination.innerHTML = paginationHTML;
}

function changeUserPage(page) {
    const totalPages = Math.ceil(userData.length / usersPerPage);
    if (page >= 1 && page <= totalPages) {
        currentUserPage = page;
        displayUsers(currentUserPage);
    }
}

function viewUser(userId) {
    const user = userData.find(u => u.id === userId);
    if (user) {
        alert(`Viewing user: ${user.name}`);
    }
}

function editUser(userId) {
    const user = userData.find(u => u.id === userId);
    if (user) {
        alert(`Editing user: ${user.name}`);
    }
}

function deleteUser(userId) {
    const user = userData.find(u => u.id === userId);
    if (user && confirm(`Are you sure you want to delete user: ${user.name}?`)) {
        alert(`User ${user.name} deleted`);
    }
}

// Initialize on section load
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('usersTableBody')) {
        displayUsers(1);
    }
});

// Also initialize when section becomes visible
if (typeof window.initializeUserManagement === 'undefined') {
    window.initializeUserManagement = function() {
        displayUsers(1);
    };
}
</script>

<style>
/* User Management Specific Styles */
.role-badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 500;
}

.role-badge.customer {
    background: rgba(33, 150, 243, 0.2);
    color: #2196F3;
}

.role-badge.admin {
    background: rgba(156, 39, 176, 0.2);
    color: #9C27B0;
}

.role-badge.staff {
    background: rgba(255, 152, 0, 0.2);
    color: #ff9800;
}
</style>